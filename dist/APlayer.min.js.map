{"version":3,"sources":["webpack://[name]/webpack/universalModuleDefinition","webpack://[name]/webpack/bootstrap","webpack://[name]/(webpack)/buildin/global.js","webpack://[name]/./src/js/utils.js","webpack://[name]/./src/js/icons.js","webpack://[name]/./node_modules/art-template/lib/runtime.js","webpack://[name]/./src/template/list-item.art","webpack://[name]/./src/js/index.js","webpack://[name]/./src/js/player.js","webpack://[name]/./node_modules/promise-polyfill/src/index.js","webpack://[name]/./node_modules/timers-browserify/main.js","webpack://[name]/./node_modules/setimmediate/setImmediate.js","webpack://[name]/./node_modules/process/browser.js","webpack://[name]/./node_modules/promise-polyfill/src/finally.js","webpack://[name]/./src/assets/play.svg","webpack://[name]/./src/assets/pause.svg","webpack://[name]/./src/assets/volume-up.svg","webpack://[name]/./src/assets/volume-down.svg","webpack://[name]/./src/assets/volume-off.svg","webpack://[name]/./src/assets/order-random.svg","webpack://[name]/./src/assets/order-list.svg","webpack://[name]/./src/assets/menu.svg","webpack://[name]/./src/assets/loop-all.svg","webpack://[name]/./src/assets/loop-one.svg","webpack://[name]/./src/assets/loop-none.svg","webpack://[name]/./src/assets/loading.svg","webpack://[name]/./src/assets/right.svg","webpack://[name]/./src/assets/skip.svg","webpack://[name]/./src/assets/lrc.svg","webpack://[name]/./src/assets/download.svg","webpack://[name]/./src/js/options.js","webpack://[name]/./src/js/template.js","webpack://[name]/./src/template/player.art","webpack://[name]/./node_modules/art-template/lib/compile/runtime.js","webpack://[name]/./node_modules/detect-node/browser.js","webpack://[name]/./src/js/bar.js","webpack://[name]/./src/js/storage.js","webpack://[name]/./src/js/lrc.js","webpack://[name]/./src/template/lrc.art","webpack://[name]/./src/js/controller.js","webpack://[name]/./node_modules/file-saver/dist/FileSaver.min.js","webpack://[name]/./src/js/timer.js","webpack://[name]/./src/js/events.js","webpack://[name]/./src/js/list.js","webpack://[name]/./node_modules/smoothscroll/smoothscroll.js"],"names":["root","factory","exports","module","define","amd","window","installedModules","__webpack_require__","moduleId","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","g","_typeof","iterator","obj","constructor","this","Function","e","isMobile","test","navigator","userAgent","utils","secondToTime","second","hour","Math","floor","min","sec","map","num","join","storage","set","localStorage","setItem","getItem","nameMap","dragStart","dragMove","dragEnd","randomOrder","length","arr","randomIndex","random","itemAtIndex","shuffle","concat","Array","isArray","arr2","from","_toConsumableArray","item","default","_play2","_interopRequireDefault","_pause2","_volumeUp2","_volumeDown2","_volumeOff2","_orderRandom2","_orderList2","_menu2","_loopAll2","_loopOne2","_loopNone2","_loading2","_right2","_skip2","_lrc2","_download2","Icons","play","pause","volumeUp","volumeDown","volumeOff","orderRandom","orderList","menu","loopAll","loopOne","loopNone","loading","right","skip","lrc","download","_player","_player2","console","log","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","_promisePolyfill2","_utils2","_icons2","_options2","_template2","_bar2","_storage2","_controller2","_timer2","_events2","_list2","instances","APlayer","options","instance","TypeError","_classCallCheck","container","paused","playedPromise","resolve","audio","classList","add","lrcType","fixed","arrow","offsetWidth","lrcEle","getElementsByClassName","innerHTML","template","body","style","width","mini","setMode","info","display","time","async","player","events","bar","controller","timer","list","initAudio","bindEvents","order","switch","autoplay","push","_this","document","createElement","preload","_loop","addEventListener","audioEvents","trigger","volume","_this2","on","setUIPlaying","setUIPaused","disableTimeupdate","currentTime","duration","update","ptime","dtime","percentage","buffered","end","skipTime","audios","notice","setTimeout","skipForward","clearTimeout","loop","index","indexOf","nextIndex","hls","destroy","type","customAudioType","toString","error","exec","url","Hls","isSupported","loadSource","attachMedia","canPlayType","src","seek","color","arguments","undefined","theme","isReset","listCurs","backgroundColor","pic","played","background","thumb","max","_this3","button","remove","skipPlayButton","enable","mutex","_this4","playPromise","catch","warn","_this5","disable","volumeButton","nostorage","parseFloat","isNaN","muted","switchVolumeIcon","callback","contains","splice","text","_this6","opacity","noticeTime","prevIndex","_finally","_finally2","setTimeoutFunc","noop","Promise","fn","_state","_handled","_value","_deferreds","doResolve","handle","self","deferred","_immediateFn","cb","onFulfilled","onRejected","ret","reject","promise","newValue","then","finale","thisArg","apply","_unhandledRejectionFn","len","Handler","done","reason","ex","prom","all","args","slice","remaining","res","val","race","values","setImmediate","err","scope","global","Timeout","id","clearFn","_id","_clearFn","setInterval","clearInterval","timeout","close","unref","ref","enroll","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","clearImmediate","registerImmediate","html","channel","messagePrefix","onGlobalMessage","nextHandle","tasksByHandle","currentlyRunningATask","doc","attachTo","getPrototypeOf","process","nextTick","runIfPresent","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","canUsePostMessage","MessageChannel","port1","event","data","port2","documentElement","script","onreadystatechange","removeChild","appendChild","source","attachEvent","task","run","cachedSetTimeout","cachedClearTimeout","defaultSetTimout","Error","defaultClearTimeout","runTimeout","fun","currentQueue","queue","draining","queueIndex","cleanUpNextTick","drainQueue","marker","runClearTimeout","Item","array","title","browser","env","argv","version","versions","addListener","once","off","removeListener","removeAllListeners","emit","prependListener","prependOnceListener","listeners","binding","cwd","chdir","dir","umask","defaultOption","element","narrow","showlrc","listFolded","listMaxHeight","listmaxheight","music","storageName","defaultKey","artist","author","cover","Template","init","icons","getObject","querySelector","lrcWrap","barWrap","querySelectorAll","loaded","volumeBar","volumeBarWrap","miniSwitcher","skipBackButton","skipForwardButton","lrcButton","downloadButton","spinner","detectNode","runtime","ESCAPE_REG","$escape","content","regexResult","result","lastIndex","char","charCodeAt","substring","xmlEscape","JSON","stringify","$each","_i","Bar","elements","direction","_utils","Storage","parse","_lrc","Lrc","parsed","current","show","hide","transform","webkitTransform","getElementsByTagName","xhr","XMLHttpRequest","readyState","status","responseText","lyrics","apiurl","open","send","lrc_s","lyric","replace","match","p1","split","lyricLen","lrcTimes","lrcText","timeLen","j","oneTime","lrcTime","parseInt","filter","sort","a","b","_fileSaver","Controller","initPlayButton","initPlayBar","initOrderButton","initLoopButton","initMenuButton","initVolumeButton","initMiniSwitcher","initSkipButton","initLrcButton","initDownloadButton","toggle","thumbMove","clientX","changedTouches","getBoundingClientRect","left","clientWidth","thumbUp","removeEventListener","clientY","top","clientHeight","_this7","_this8","skipBack","_this9","_this10","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","next","filename","saveAs","return","responseType","onload","response","onerror","dispatchEvent","MouseEvent","createEvent","initMouseEvent","f","HTMLAnchorElement","h","URL","webkitURL","rel","href","origin","location","createObjectURL","revokeObjectURL","msSaveOrOpenBlob","autoBom","Blob","innerText","HTMLElement","safari","FileReader","onloadend","readAsDataURL","k","Timer","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","types","forEach","lastPlayPos","currentPlayPos","bufferingDetected","loadingChecker","enableloadingChecker","initfpsChecker","Events","playerEvents","_listItem2","_smoothscroll2","List","showing","height","scrollHeight","tagName","toUpperCase","parentElement","audioIndex","scrollTop","wasSingle","wasEmpty","textContent","clear","backgroundImage","light","setAudio","pageYOffset","history","pushState","position","start","elapsed","smoothScroll","el","context","nodeName","getTop","clock","Date","now","step","scroll","linkHandler","ev","defaultPrevented","preventDefault","hash","node","getElementById","internal"],"mappings":"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","file":"APlayer.min.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"APlayer\", [], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"APlayer\"] = factory();\n\telse\n\t\troot[\"APlayer\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 5);\n","'use strict';\nvar _typeof = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (obj) {\n    return typeof obj;\n} : function (obj) {\n    return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n};\nvar g;\ng = function () {\n    return this;\n}();\ntry {\n    g = g || new Function('return this')();\n} catch (e) {\n    if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) === 'object')\n        g = window;\n}\nmodule.exports = g;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nfunction _toConsumableArray(arr) {\n    if (Array.isArray(arr)) {\n        for (var i = 0, arr2 = Array(arr.length); i < arr.length; i++) {\n            arr2[i] = arr[i];\n        }\n        return arr2;\n    } else {\n        return Array.from(arr);\n    }\n}\nvar isMobile = /mobile/i.test(window.navigator.userAgent);\nvar utils = {\n    secondToTime: function secondToTime(second) {\n        var add0 = function add0(num) {\n            return num < 10 ? '0' + num : '' + num;\n        };\n        var hour = Math.floor(second / 3600);\n        var min = Math.floor((second - hour * 3600) / 60);\n        var sec = Math.floor(second - hour * 3600 - min * 60);\n        return (hour > 0 ? [\n            hour,\n            min,\n            sec\n        ] : [\n            min,\n            sec\n        ]).map(add0).join(':');\n    },\n    isMobile: isMobile,\n    storage: {\n        set: function set(key, value) {\n            localStorage.setItem(key, value);\n        },\n        get: function get(key) {\n            return localStorage.getItem(key);\n        }\n    },\n    nameMap: {\n        dragStart: isMobile ? 'touchstart' : 'mousedown',\n        dragMove: isMobile ? 'touchmove' : 'mousemove',\n        dragEnd: isMobile ? 'touchend' : 'mouseup'\n    },\n    randomOrder: function randomOrder(length) {\n        function shuffle(arr) {\n            for (var i = arr.length - 1; i >= 0; i--) {\n                var randomIndex = Math.floor(Math.random() * (i + 1));\n                var itemAtIndex = arr[randomIndex];\n                arr[randomIndex] = arr[i];\n                arr[i] = itemAtIndex;\n            }\n            return arr;\n        }\n        return shuffle([].concat(_toConsumableArray(Array(length))).map(function (item, i) {\n            return i;\n        }));\n    }\n};\nexports.default = utils;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _play = require('../assets/play.svg');\nvar _play2 = _interopRequireDefault(_play);\nvar _pause = require('../assets/pause.svg');\nvar _pause2 = _interopRequireDefault(_pause);\nvar _volumeUp = require('../assets/volume-up.svg');\nvar _volumeUp2 = _interopRequireDefault(_volumeUp);\nvar _volumeDown = require('../assets/volume-down.svg');\nvar _volumeDown2 = _interopRequireDefault(_volumeDown);\nvar _volumeOff = require('../assets/volume-off.svg');\nvar _volumeOff2 = _interopRequireDefault(_volumeOff);\nvar _orderRandom = require('../assets/order-random.svg');\nvar _orderRandom2 = _interopRequireDefault(_orderRandom);\nvar _orderList = require('../assets/order-list.svg');\nvar _orderList2 = _interopRequireDefault(_orderList);\nvar _menu = require('../assets/menu.svg');\nvar _menu2 = _interopRequireDefault(_menu);\nvar _loopAll = require('../assets/loop-all.svg');\nvar _loopAll2 = _interopRequireDefault(_loopAll);\nvar _loopOne = require('../assets/loop-one.svg');\nvar _loopOne2 = _interopRequireDefault(_loopOne);\nvar _loopNone = require('../assets/loop-none.svg');\nvar _loopNone2 = _interopRequireDefault(_loopNone);\nvar _loading = require('../assets/loading.svg');\nvar _loading2 = _interopRequireDefault(_loading);\nvar _right = require('../assets/right.svg');\nvar _right2 = _interopRequireDefault(_right);\nvar _skip = require('../assets/skip.svg');\nvar _skip2 = _interopRequireDefault(_skip);\nvar _lrc = require('../assets/lrc.svg');\nvar _lrc2 = _interopRequireDefault(_lrc);\nvar _download = require('../assets/download.svg');\nvar _download2 = _interopRequireDefault(_download);\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nvar Icons = {\n    play: _play2.default,\n    pause: _pause2.default,\n    volumeUp: _volumeUp2.default,\n    volumeDown: _volumeDown2.default,\n    volumeOff: _volumeOff2.default,\n    orderRandom: _orderRandom2.default,\n    orderList: _orderList2.default,\n    menu: _menu2.default,\n    loopAll: _loopAll2.default,\n    loopOne: _loopOne2.default,\n    loopNone: _loopNone2.default,\n    loading: _loading2.default,\n    right: _right2.default,\n    skip: _skip2.default,\n    lrc: _lrc2.default,\n    download: _download2.default\n};\nexports.default = Icons;","'use strict';\nmodule.exports = require('./compile/runtime');","{{each audio}}\n<li>\n    <span class=\"aplayer-list-cur\" style=\"background-color: {{ $value.theme || theme }};\"></span>\n    <span class=\"aplayer-list-index\">{{ $index + index }}</span>\n    <span class=\"aplayer-list-title\">{{ $value.name }}</span>\n    <span class=\"aplayer-list-author\">{{ $value.artist }}</span>\n</li>\n{{/each}}","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nrequire('../css/index.scss');\nvar _player = require('./player');\nvar _player2 = _interopRequireDefault(_player);\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nconsole.log('\\n' + ' %c APlayer v' + APLAYER_VERSION + ' ' + GIT_HASH + ' %c http://aplayer.js.org ' + '\\n', 'color: #fadfa3; background: #030307; padding:5px 0;', 'background: #fadfa3; padding:5px 0;');\nexports.default = _player2.default;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nvar _promisePolyfill = require('promise-polyfill');\nvar _promisePolyfill2 = _interopRequireDefault(_promisePolyfill);\nvar _utils = require('./utils');\nvar _utils2 = _interopRequireDefault(_utils);\nvar _icons = require('./icons');\nvar _icons2 = _interopRequireDefault(_icons);\nvar _options = require('./options');\nvar _options2 = _interopRequireDefault(_options);\nvar _template = require('./template');\nvar _template2 = _interopRequireDefault(_template);\nvar _bar = require('./bar');\nvar _bar2 = _interopRequireDefault(_bar);\nvar _storage = require('./storage');\nvar _storage2 = _interopRequireDefault(_storage);\nvar _lrc = require('./lrc');\nvar _lrc2 = _interopRequireDefault(_lrc);\nvar _controller = require('./controller');\nvar _controller2 = _interopRequireDefault(_controller);\nvar _timer = require('./timer');\nvar _timer2 = _interopRequireDefault(_timer);\nvar _events = require('./events');\nvar _events2 = _interopRequireDefault(_events);\nvar _list = require('./list');\nvar _list2 = _interopRequireDefault(_list);\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar instances = [];\nvar APlayer = function () {\n    function APlayer(options) {\n        _classCallCheck(this, APlayer);\n        this.options = (0, _options2.default)(options);\n        this.container = this.options.container;\n        this.paused = true;\n        this.playedPromise = _promisePolyfill2.default.resolve();\n        this.mode = 'normal';\n        this.randomOrder = _utils2.default.randomOrder(this.options.audio.length);\n        this.container.classList.add('aplayer');\n        if (this.options.lrcType && !this.options.fixed) {\n            this.container.classList.add('aplayer-withlrc');\n        }\n        if (this.options.audio.length > 1) {\n            this.container.classList.add('aplayer-withlist');\n        }\n        if (_utils2.default.isMobile) {\n            this.container.classList.add('aplayer-mobile');\n        }\n        this.arrow = this.container.offsetWidth <= 300;\n        if (this.arrow) {\n            this.container.classList.add('aplayer-arrow');\n        }\n        this.container = this.options.container;\n        if (this.options.lrcType === 2 || this.options.lrcType === true) {\n            var lrcEle = this.container.getElementsByClassName('aplayer-lrc-content');\n            for (var i = 0; i < lrcEle.length; i++) {\n                if (this.options.audio[i]) {\n                    this.options.audio[i].lrc = lrcEle[i].innerHTML;\n                }\n            }\n        }\n        this.template = new _template2.default({\n            container: this.container,\n            options: this.options,\n            randomOrder: this.randomOrder\n        });\n        if (this.options.fixed) {\n            this.container.classList.add('aplayer-fixed');\n            this.template.body.style.width = this.template.body.offsetWidth - 18 + 'px';\n        }\n        if (this.options.mini) {\n            this.setMode('mini');\n            this.template.info.style.display = 'block';\n        }\n        if (this.template.info.offsetWidth < 200) {\n            this.template.time.classList.add('aplayer-time-narrow');\n        }\n        if (this.options.lrcType) {\n            this.lrc = new _lrc2.default({\n                container: this.template.lrc,\n                async: this.options.lrcType === 3,\n                player: this\n            });\n        }\n        this.events = new _events2.default();\n        this.storage = new _storage2.default(this);\n        this.bar = new _bar2.default(this.template);\n        this.controller = new _controller2.default(this);\n        this.timer = new _timer2.default(this);\n        this.list = new _list2.default(this);\n        this.initAudio();\n        this.bindEvents();\n        if (this.options.order === 'random') {\n            this.list.switch(this.randomOrder[0]);\n        } else {\n            this.list.switch(0);\n        }\n        if (this.options.autoplay) {\n            this.play();\n        }\n        instances.push(this);\n    }\n    _createClass(APlayer, [\n        {\n            key: 'initAudio',\n            value: function initAudio() {\n                var _this = this;\n                this.audio = document.createElement('audio');\n                this.audio.preload = this.options.preload;\n                var _loop = function _loop(i) {\n                    _this.audio.addEventListener(_this.events.audioEvents[i], function (e) {\n                        _this.events.trigger(_this.events.audioEvents[i], e);\n                    });\n                };\n                for (var i = 0; i < this.events.audioEvents.length; i++) {\n                    _loop(i);\n                }\n                this.volume(this.storage.get('volume'), true);\n            }\n        },\n        {\n            key: 'bindEvents',\n            value: function bindEvents() {\n                var _this2 = this;\n                this.on('play', function () {\n                    if (_this2.paused) {\n                        _this2.setUIPlaying();\n                    }\n                });\n                this.on('pause', function () {\n                    if (!_this2.paused) {\n                        _this2.setUIPaused();\n                    }\n                });\n                this.on('timeupdate', function () {\n                    if (!_this2.disableTimeupdate) {\n                        _this2.bar.set('played', _this2.audio.currentTime / _this2.duration, 'width');\n                        _this2.lrc && _this2.lrc.update();\n                        var currentTime = _utils2.default.secondToTime(_this2.audio.currentTime);\n                        if (_this2.template.ptime.innerHTML !== currentTime) {\n                            _this2.template.ptime.innerHTML = currentTime;\n                        }\n                    }\n                });\n                this.on('durationchange', function () {\n                    if (_this2.duration !== 1) {\n                        _this2.template.dtime.innerHTML = _utils2.default.secondToTime(_this2.duration);\n                    }\n                });\n                this.on('progress', function () {\n                    var percentage = _this2.audio.buffered.length ? _this2.audio.buffered.end(_this2.audio.buffered.length - 1) / _this2.duration : 0;\n                    _this2.bar.set('loaded', percentage, 'width');\n                });\n                var skipTime = void 0;\n                this.on('error', function () {\n                    if (_this2.list.audios.length > 1) {\n                        _this2.notice('An audio error has occurred, player will skip forward in 2 seconds.');\n                        skipTime = setTimeout(function () {\n                            _this2.skipForward();\n                            if (!_this2.paused) {\n                                _this2.play();\n                            }\n                        }, 2000);\n                    } else if (_this2.list.audios.length === 1) {\n                        _this2.notice('An audio error has occurred.');\n                    }\n                });\n                this.events.on('listswitch', function () {\n                    skipTime && clearTimeout(skipTime);\n                });\n                this.on('ended', function () {\n                    if (_this2.options.loop === 'none') {\n                        if (_this2.options.order === 'list') {\n                            if (_this2.list.index < _this2.list.audios.length - 1) {\n                                _this2.list.switch((_this2.list.index + 1) % _this2.list.audios.length);\n                                _this2.play();\n                            } else {\n                                _this2.list.switch((_this2.list.index + 1) % _this2.list.audios.length);\n                                _this2.pause();\n                            }\n                        } else if (_this2.options.order === 'random') {\n                            if (_this2.randomOrder.indexOf(_this2.list.index) < _this2.randomOrder.length - 1) {\n                                _this2.list.switch(_this2.nextIndex());\n                                _this2.play();\n                            } else {\n                                _this2.list.switch(_this2.nextIndex());\n                                _this2.pause();\n                            }\n                        }\n                    } else if (_this2.options.loop === 'one') {\n                        _this2.list.switch(_this2.list.index);\n                        _this2.play();\n                    } else if (_this2.options.loop === 'all') {\n                        _this2.skipForward();\n                        _this2.play();\n                    }\n                });\n            }\n        },\n        {\n            key: 'setAudio',\n            value: function setAudio(audio) {\n                if (this.hls) {\n                    this.hls.destroy();\n                    this.hls = null;\n                }\n                var type = audio.type;\n                if (this.options.customAudioType && this.options.customAudioType[type]) {\n                    if (Object.prototype.toString.call(this.options.customAudioType[type]) === '[object Function]') {\n                        this.options.customAudioType[type](this.audio, audio, this);\n                    } else {\n                        console.error('Illegal customType: ' + type);\n                    }\n                } else {\n                    if (!type || type === 'auto') {\n                        if (/m3u8(#|\\?|$)/i.exec(audio.url)) {\n                            type = 'hls';\n                        } else {\n                            type = 'normal';\n                        }\n                    }\n                    if (type === 'hls') {\n                        if (Hls.isSupported()) {\n                            this.hls = new Hls();\n                            this.hls.loadSource(audio.url);\n                            this.hls.attachMedia(this.audio);\n                        } else if (this.audio.canPlayType('application/x-mpegURL') || this.audio.canPlayType('application/vnd.apple.mpegURL')) {\n                            this.audio.src = audio.url;\n                        } else {\n                            this.notice('Error: HLS is not supported.');\n                        }\n                    } else if (type === 'normal') {\n                        this.audio.src = audio.url;\n                    }\n                }\n                this.seek(0);\n                if (!this.paused) {\n                    this.audio.play();\n                }\n            }\n        },\n        {\n            key: 'theme',\n            value: function theme() {\n                var color = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.list.audios[this.list.index].theme || this.options.theme;\n                var index = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this.list.index;\n                var isReset = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n                if (isReset) {\n                    this.list.audios[index] && (this.list.audios[index].theme = color);\n                }\n                this.template.listCurs[index] && (this.template.listCurs[index].style.backgroundColor = color);\n                if (index === this.list.index) {\n                    this.template.pic.style.backgroundColor = color;\n                    this.template.played.style.background = color;\n                    this.template.thumb.style.background = color;\n                    this.template.volume.style.background = color;\n                }\n            }\n        },\n        {\n            key: 'seek',\n            value: function seek(time) {\n                time = Math.max(time, 0);\n                time = Math.min(time, this.duration);\n                this.audio.currentTime = time;\n                this.bar.set('played', time / this.duration, 'width');\n                this.template.ptime.innerHTML = _utils2.default.secondToTime(time);\n            }\n        },\n        {\n            key: 'setUIPlaying',\n            value: function setUIPlaying() {\n                var _this3 = this;\n                if (this.paused) {\n                    this.paused = false;\n                    this.template.button.classList.remove('aplayer-play');\n                    this.template.button.classList.add('aplayer-pause');\n                    this.template.button.innerHTML = '';\n                    setTimeout(function () {\n                        _this3.template.button.innerHTML = _icons2.default.pause;\n                    }, 100);\n                    this.template.skipPlayButton.innerHTML = _icons2.default.pause;\n                }\n                this.timer.enable('loading');\n                if (this.options.mutex) {\n                    for (var i = 0; i < instances.length; i++) {\n                        if (this !== instances[i]) {\n                            instances[i].pause();\n                        }\n                    }\n                }\n            }\n        },\n        {\n            key: 'play',\n            value: function play() {\n                var _this4 = this;\n                this.setUIPlaying();\n                var playPromise = this.audio.play();\n                if (playPromise) {\n                    playPromise.catch(function (e) {\n                        console.warn(e);\n                        if (e.name === 'NotAllowedError') {\n                            _this4.setUIPaused();\n                        }\n                    });\n                }\n            }\n        },\n        {\n            key: 'setUIPaused',\n            value: function setUIPaused() {\n                var _this5 = this;\n                if (!this.paused) {\n                    this.paused = true;\n                    this.template.button.classList.remove('aplayer-pause');\n                    this.template.button.classList.add('aplayer-play');\n                    this.template.button.innerHTML = '';\n                    setTimeout(function () {\n                        _this5.template.button.innerHTML = _icons2.default.play;\n                    }, 100);\n                    this.template.skipPlayButton.innerHTML = _icons2.default.play;\n                }\n                this.container.classList.remove('aplayer-loading');\n                this.timer.disable('loading');\n            }\n        },\n        {\n            key: 'pause',\n            value: function pause() {\n                this.setUIPaused();\n                this.audio.pause();\n            }\n        },\n        {\n            key: 'switchVolumeIcon',\n            value: function switchVolumeIcon() {\n                if (this.volume() >= 0.95) {\n                    this.template.volumeButton.innerHTML = _icons2.default.volumeUp;\n                } else if (this.volume() > 0) {\n                    this.template.volumeButton.innerHTML = _icons2.default.volumeDown;\n                } else {\n                    this.template.volumeButton.innerHTML = _icons2.default.volumeOff;\n                }\n            }\n        },\n        {\n            key: 'volume',\n            value: function volume(percentage, nostorage) {\n                percentage = parseFloat(percentage);\n                if (!isNaN(percentage)) {\n                    percentage = Math.max(percentage, 0);\n                    percentage = Math.min(percentage, 1);\n                    this.bar.set('volume', percentage, 'height');\n                    if (!nostorage) {\n                        this.storage.set('volume', percentage);\n                    }\n                    this.audio.volume = percentage;\n                    if (this.audio.muted) {\n                        this.audio.muted = false;\n                    }\n                    this.switchVolumeIcon();\n                }\n                return this.audio.muted ? 0 : this.audio.volume;\n            }\n        },\n        {\n            key: 'on',\n            value: function on(name, callback) {\n                this.events.on(name, callback);\n            }\n        },\n        {\n            key: 'toggle',\n            value: function toggle() {\n                if (this.template.button.classList.contains('aplayer-play')) {\n                    this.play();\n                } else if (this.template.button.classList.contains('aplayer-pause')) {\n                    this.pause();\n                }\n            }\n        },\n        {\n            key: 'switchAudio',\n            value: function switchAudio(index) {\n                this.list.switch(index);\n            }\n        },\n        {\n            key: 'addAudio',\n            value: function addAudio(audios) {\n                this.list.add(audios);\n            }\n        },\n        {\n            key: 'removeAudio',\n            value: function removeAudio(index) {\n                this.list.remove(index);\n            }\n        },\n        {\n            key: 'destroy',\n            value: function destroy() {\n                instances.splice(instances.indexOf(this), 1);\n                this.pause();\n                this.container.innerHTML = '';\n                this.audio.src = '';\n                this.timer.destroy();\n                this.events.trigger('destroy');\n            }\n        },\n        {\n            key: 'setMode',\n            value: function setMode() {\n                var mode = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'normal';\n                this.mode = mode;\n                if (mode === 'mini') {\n                    this.container.classList.add('aplayer-narrow');\n                } else if (mode === 'normal') {\n                    this.container.classList.remove('aplayer-narrow');\n                }\n            }\n        },\n        {\n            key: 'notice',\n            value: function notice(text) {\n                var _this6 = this;\n                var time = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 2000;\n                var opacity = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0.8;\n                this.template.notice.innerHTML = text;\n                this.template.notice.style.opacity = opacity;\n                if (this.noticeTime) {\n                    clearTimeout(this.noticeTime);\n                }\n                this.events.trigger('noticeshow', { text: text });\n                if (time) {\n                    this.noticeTime = setTimeout(function () {\n                        _this6.template.notice.style.opacity = 0;\n                        _this6.events.trigger('noticehide');\n                    }, time);\n                }\n            }\n        },\n        {\n            key: 'prevIndex',\n            value: function prevIndex() {\n                if (this.list.audios.length > 1) {\n                    if (this.options.order === 'list') {\n                        return this.list.index - 1 < 0 ? this.list.audios.length - 1 : this.list.index - 1;\n                    } else if (this.options.order === 'random') {\n                        var index = this.randomOrder.indexOf(this.list.index);\n                        if (index === 0) {\n                            return this.randomOrder[this.randomOrder.length - 1];\n                        } else {\n                            return this.randomOrder[index - 1];\n                        }\n                    }\n                } else {\n                    return 0;\n                }\n            }\n        },\n        {\n            key: 'nextIndex',\n            value: function nextIndex() {\n                if (this.list.audios.length > 1) {\n                    if (this.options.order === 'list') {\n                        return (this.list.index + 1) % this.list.audios.length;\n                    } else if (this.options.order === 'random') {\n                        var index = this.randomOrder.indexOf(this.list.index);\n                        if (index === this.randomOrder.length - 1) {\n                            return this.randomOrder[0];\n                        } else {\n                            return this.randomOrder[index + 1];\n                        }\n                    }\n                } else {\n                    return 0;\n                }\n            }\n        },\n        {\n            key: 'skipBack',\n            value: function skipBack() {\n                this.list.switch(this.prevIndex());\n            }\n        },\n        {\n            key: 'skipForward',\n            value: function skipForward() {\n                this.list.switch(this.nextIndex());\n            }\n        },\n        {\n            key: 'duration',\n            get: function get() {\n                return isNaN(this.audio.duration) ? 0 : this.audio.duration;\n            }\n        }\n    ], [{\n            key: 'version',\n            get: function get() {\n                return APLAYER_VERSION;\n            }\n        }]);\n    return APlayer;\n}();\nexports.default = APlayer;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _typeof = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (obj) {\n    return typeof obj;\n} : function (obj) {\n    return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n};\nvar _finally = require('./finally');\nvar _finally2 = _interopRequireDefault(_finally);\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nvar setTimeoutFunc = setTimeout;\nfunction noop() {\n}\nfunction bind(fn, thisArg) {\n    return function () {\n        fn.apply(thisArg, arguments);\n    };\n}\nfunction Promise(fn) {\n    if (!(this instanceof Promise))\n        throw new TypeError('Promises must be constructed via new');\n    if (typeof fn !== 'function')\n        throw new TypeError('not a function');\n    this._state = 0;\n    this._handled = false;\n    this._value = undefined;\n    this._deferreds = [];\n    doResolve(fn, this);\n}\nfunction handle(self, deferred) {\n    while (self._state === 3) {\n        self = self._value;\n    }\n    if (self._state === 0) {\n        self._deferreds.push(deferred);\n        return;\n    }\n    self._handled = true;\n    Promise._immediateFn(function () {\n        var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\n        if (cb === null) {\n            (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\n            return;\n        }\n        var ret;\n        try {\n            ret = cb(self._value);\n        } catch (e) {\n            reject(deferred.promise, e);\n            return;\n        }\n        resolve(deferred.promise, ret);\n    });\n}\nfunction resolve(self, newValue) {\n    try {\n        if (newValue === self)\n            throw new TypeError('A promise cannot be resolved with itself.');\n        if (newValue && ((typeof newValue === 'undefined' ? 'undefined' : _typeof(newValue)) === 'object' || typeof newValue === 'function')) {\n            var then = newValue.then;\n            if (newValue instanceof Promise) {\n                self._state = 3;\n                self._value = newValue;\n                finale(self);\n                return;\n            } else if (typeof then === 'function') {\n                doResolve(bind(then, newValue), self);\n                return;\n            }\n        }\n        self._state = 1;\n        self._value = newValue;\n        finale(self);\n    } catch (e) {\n        reject(self, e);\n    }\n}\nfunction reject(self, newValue) {\n    self._state = 2;\n    self._value = newValue;\n    finale(self);\n}\nfunction finale(self) {\n    if (self._state === 2 && self._deferreds.length === 0) {\n        Promise._immediateFn(function () {\n            if (!self._handled) {\n                Promise._unhandledRejectionFn(self._value);\n            }\n        });\n    }\n    for (var i = 0, len = self._deferreds.length; i < len; i++) {\n        handle(self, self._deferreds[i]);\n    }\n    self._deferreds = null;\n}\nfunction Handler(onFulfilled, onRejected, promise) {\n    this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\n    this.onRejected = typeof onRejected === 'function' ? onRejected : null;\n    this.promise = promise;\n}\nfunction doResolve(fn, self) {\n    var done = false;\n    try {\n        fn(function (value) {\n            if (done)\n                return;\n            done = true;\n            resolve(self, value);\n        }, function (reason) {\n            if (done)\n                return;\n            done = true;\n            reject(self, reason);\n        });\n    } catch (ex) {\n        if (done)\n            return;\n        done = true;\n        reject(self, ex);\n    }\n}\nPromise.prototype['catch'] = function (onRejected) {\n    return this.then(null, onRejected);\n};\nPromise.prototype.then = function (onFulfilled, onRejected) {\n    var prom = new this.constructor(noop);\n    handle(this, new Handler(onFulfilled, onRejected, prom));\n    return prom;\n};\nPromise.prototype['finally'] = _finally2.default;\nPromise.all = function (arr) {\n    return new Promise(function (resolve, reject) {\n        if (!arr || typeof arr.length === 'undefined')\n            throw new TypeError('Promise.all accepts an array');\n        var args = Array.prototype.slice.call(arr);\n        if (args.length === 0)\n            return resolve([]);\n        var remaining = args.length;\n        function res(i, val) {\n            try {\n                if (val && ((typeof val === 'undefined' ? 'undefined' : _typeof(val)) === 'object' || typeof val === 'function')) {\n                    var then = val.then;\n                    if (typeof then === 'function') {\n                        then.call(val, function (val) {\n                            res(i, val);\n                        }, reject);\n                        return;\n                    }\n                }\n                args[i] = val;\n                if (--remaining === 0) {\n                    resolve(args);\n                }\n            } catch (ex) {\n                reject(ex);\n            }\n        }\n        for (var i = 0; i < args.length; i++) {\n            res(i, args[i]);\n        }\n    });\n};\nPromise.resolve = function (value) {\n    if (value && (typeof value === 'undefined' ? 'undefined' : _typeof(value)) === 'object' && value.constructor === Promise) {\n        return value;\n    }\n    return new Promise(function (resolve) {\n        resolve(value);\n    });\n};\nPromise.reject = function (value) {\n    return new Promise(function (resolve, reject) {\n        reject(value);\n    });\n};\nPromise.race = function (values) {\n    return new Promise(function (resolve, reject) {\n        for (var i = 0, len = values.length; i < len; i++) {\n            values[i].then(resolve, reject);\n        }\n    });\n};\nPromise._immediateFn = typeof setImmediate === 'function' && function (fn) {\n    setImmediate(fn);\n} || function (fn) {\n    setTimeoutFunc(fn, 0);\n};\nPromise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\n    if (typeof console !== 'undefined' && console) {\n        console.warn('Possible Unhandled Promise Rejection:', err);\n    }\n};\nexports.default = Promise;","'use strict';\nvar scope = typeof global !== 'undefined' && global || typeof self !== 'undefined' && self || window;\nvar apply = Function.prototype.apply;\nexports.setTimeout = function () {\n    return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function () {\n    return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout = exports.clearInterval = function (timeout) {\n    if (timeout) {\n        timeout.close();\n    }\n};\nfunction Timeout(id, clearFn) {\n    this._id = id;\n    this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function () {\n};\nTimeout.prototype.close = function () {\n    this._clearFn.call(scope, this._id);\n};\nexports.enroll = function (item, msecs) {\n    clearTimeout(item._idleTimeoutId);\n    item._idleTimeout = msecs;\n};\nexports.unenroll = function (item) {\n    clearTimeout(item._idleTimeoutId);\n    item._idleTimeout = -1;\n};\nexports._unrefActive = exports.active = function (item) {\n    clearTimeout(item._idleTimeoutId);\n    var msecs = item._idleTimeout;\n    if (msecs >= 0) {\n        item._idleTimeoutId = setTimeout(function onTimeout() {\n            if (item._onTimeout)\n                item._onTimeout();\n        }, msecs);\n    }\n};\nrequire('setimmediate');\nexports.setImmediate = typeof self !== 'undefined' && self.setImmediate || typeof global !== 'undefined' && global.setImmediate || undefined && undefined.setImmediate;\nexports.clearImmediate = typeof self !== 'undefined' && self.clearImmediate || typeof global !== 'undefined' && global.clearImmediate || undefined && undefined.clearImmediate;","'use strict';\n(function (global, undefined) {\n    'use strict';\n    if (global.setImmediate) {\n        return;\n    }\n    var nextHandle = 1;\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n    function setImmediate(callback) {\n        if (typeof callback !== 'function') {\n            callback = new Function('' + callback);\n        }\n        var args = new Array(arguments.length - 1);\n        for (var i = 0; i < args.length; i++) {\n            args[i] = arguments[i + 1];\n        }\n        var task = {\n            callback: callback,\n            args: args\n        };\n        tasksByHandle[nextHandle] = task;\n        registerImmediate(nextHandle);\n        return nextHandle++;\n    }\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n    function runIfPresent(handle) {\n        if (currentlyRunningATask) {\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n    function installNextTickImplementation() {\n        registerImmediate = function registerImmediate(handle) {\n            process.nextTick(function () {\n                runIfPresent(handle);\n            });\n        };\n    }\n    function canUsePostMessage() {\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function () {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage('', '*');\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n    function installPostMessageImplementation() {\n        var messagePrefix = 'setImmediate$' + Math.random() + '$';\n        var onGlobalMessage = function onGlobalMessage(event) {\n            if (event.source === global && typeof event.data === 'string' && event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n        if (global.addEventListener) {\n            global.addEventListener('message', onGlobalMessage, false);\n        } else {\n            global.attachEvent('onmessage', onGlobalMessage);\n        }\n        registerImmediate = function registerImmediate(handle) {\n            global.postMessage(messagePrefix + handle, '*');\n        };\n    }\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function (event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n        registerImmediate = function registerImmediate(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function registerImmediate(handle) {\n            var script = doc.createElement('script');\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n    function installSetTimeoutImplementation() {\n        registerImmediate = function registerImmediate(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n    if ({}.toString.call(global.process) === '[object process]') {\n        installNextTickImplementation();\n    } else if (canUsePostMessage()) {\n        installPostMessageImplementation();\n    } else if (global.MessageChannel) {\n        installMessageChannelImplementation();\n    } else if (doc && 'onreadystatechange' in doc.createElement('script')) {\n        installReadyStateChangeImplementation();\n    } else {\n        installSetTimeoutImplementation();\n    }\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === 'undefined' ? typeof global === 'undefined' ? undefined : global : self));","'use strict';\nvar process = module.exports = {};\nvar cachedSetTimeout;\nvar cachedClearTimeout;\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout() {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n}());\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        return setTimeout(fun, 0);\n    }\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        return cachedSetTimeout(fun, 0);\n    } catch (e) {\n        try {\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch (e) {\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        return clearTimeout(marker);\n    }\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        return cachedClearTimeout(marker);\n    } catch (e) {\n        try {\n            return cachedClearTimeout.call(null, marker);\n        } catch (e) {\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n    var len = queue.length;\n    while (len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = '';\nprocess.versions = {};\nfunction noop() {\n}\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\nprocess.listeners = function (name) {\n    return [];\n};\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\nprocess.cwd = function () {\n    return '/';\n};\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function () {\n    return 0;\n};","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.default = function (callback) {\n    var constructor = this.constructor;\n    return this.then(function (value) {\n        return constructor.resolve(callback()).then(function () {\n            return value;\n        });\n    }, function (reason) {\n        return constructor.resolve(callback()).then(function () {\n            return constructor.reject(reason);\n        });\n    });\n};","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 16 31\\\"><path d=\\\"M15.552 15.168q0.448 0.32 0.448 0.832 0 0.448-0.448 0.768l-13.696 8.512q-0.768 0.512-1.312 0.192t-0.544-1.28v-16.448q0-0.96 0.544-1.28t1.312 0.192z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 17 32\\\"><path d=\\\"M14.080 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048zM2.88 4.8q2.88 0 2.88 2.048v18.24q0 2.112-2.88 2.112t-2.88-2.112v-18.24q0-2.048 2.88-2.048z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 28 32\\\"><path d=\\\"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528zM25.152 16q0 2.72-1.536 5.056t-4 3.36q-0.256 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.704 0.672-1.056 1.024-0.512 1.376-0.8 1.312-0.96 2.048-2.4t0.736-3.104-0.736-3.104-2.048-2.4q-0.352-0.288-1.376-0.8-0.672-0.352-0.672-1.056 0-0.448 0.32-0.8t0.8-0.352q0.224 0 0.48 0.096 2.496 1.056 4 3.36t1.536 5.056zM29.728 16q0 4.096-2.272 7.552t-6.048 5.056q-0.224 0.096-0.448 0.096-0.48 0-0.832-0.352t-0.32-0.8q0-0.64 0.704-1.056 0.128-0.064 0.384-0.192t0.416-0.192q0.8-0.448 1.44-0.896 2.208-1.632 3.456-4.064t1.216-5.152-1.216-5.152-3.456-4.064q-0.64-0.448-1.44-0.896-0.128-0.096-0.416-0.192t-0.384-0.192q-0.704-0.416-0.704-1.056 0-0.448 0.32-0.8t0.832-0.352q0.224 0 0.448 0.096 3.776 1.632 6.048 5.056t2.272 7.552z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 28 32\\\"><path d=\\\"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8zM20.576 16q0 1.344-0.768 2.528t-2.016 1.664q-0.16 0.096-0.448 0.096-0.448 0-0.8-0.32t-0.32-0.832q0-0.384 0.192-0.64t0.544-0.448 0.608-0.384 0.512-0.64 0.192-1.024-0.192-1.024-0.512-0.64-0.608-0.384-0.544-0.448-0.192-0.64q0-0.48 0.32-0.832t0.8-0.32q0.288 0 0.448 0.096 1.248 0.48 2.016 1.664t0.768 2.528z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 28 32\\\"><path d=\\\"M13.728 6.272v19.456q0 0.448-0.352 0.8t-0.8 0.32-0.8-0.32l-5.952-5.952h-4.672q-0.48 0-0.8-0.352t-0.352-0.8v-6.848q0-0.48 0.352-0.8t0.8-0.352h4.672l5.952-5.952q0.32-0.32 0.8-0.32t0.8 0.32 0.352 0.8z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M22.667 4l7 6-7 6 7 6-7 6v-4h-3.653l-3.76-3.76 2.827-2.827 2.587 2.587h2v-8h-2l-12 12h-6v-4h4.347l12-12h3.653v-4zM2.667 8h6l3.76 3.76-2.827 2.827-2.587-2.587h-4.347v-4z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M0.622 18.334h19.54v7.55l11.052-9.412-11.052-9.413v7.549h-19.54v3.725z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 22 32\\\"><path d=\\\"M20.8 14.4q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2zM1.6 11.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2zM20.8 20.8q0.704 0 1.152 0.48t0.448 1.12-0.48 1.12-1.12 0.48h-19.2q-0.64 0-1.12-0.48t-0.48-1.12 0.448-1.12 1.152-0.48h19.2z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 29 32\\\"><path d=\\\"M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 33 32\\\"><path d=\\\"M9.333 9.333h13.333v4l5.333-5.333-5.333-5.333v4h-16v8h2.667v-5.333zM22.667 22.667h-13.333v-4l-5.333 5.333 5.333 5.333v-4h16v-8h-2.667v5.333zM17.333 20v-8h-1.333l-2.667 1.333v1.333h2v5.333h2z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 29 32\\\"><path d=\\\"M2.667 7.027l1.707-1.693 22.293 22.293-1.693 1.707-4-4h-11.64v4l-5.333-5.333 5.333-5.333v4h8.973l-8.973-8.973v0.973h-2.667v-3.64l-4-4zM22.667 17.333h2.667v5.573l-2.667-2.667v-2.907zM22.667 6.667v-4l5.333 5.333-5.333 5.333v-4h-10.907l-2.667-2.667h13.573z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M4 16c0-6.6 5.4-12 12-12s12 5.4 12 12c0 1.2-0.8 2-2 2s-2-0.8-2-2c0-4.4-3.6-8-8-8s-8 3.6-8 8 3.6 8 8 8c1.2 0 2 0.8 2 2s-0.8 2-2 2c-6.6 0-12-5.4-12-12z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M22 16l-10.105-10.6-1.895 1.987 8.211 8.613-8.211 8.612 1.895 1.988 8.211-8.613z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M25.468 6.947c-0.326-0.172-0.724-0.151-1.030 0.057l-6.438 4.38v-3.553c0-0.371-0.205-0.71-0.532-0.884-0.326-0.172-0.724-0.151-1.030 0.057l-12 8.164c-0.274 0.186-0.438 0.496-0.438 0.827s0.164 0.641 0.438 0.827l12 8.168c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-3.556l6.438 4.382c0.169 0.115 0.365 0.174 0.562 0.174 0.16 0 0.321-0.038 0.468-0.116 0.327-0.173 0.532-0.514 0.532-0.884v-16.333c0-0.371-0.205-0.71-0.532-0.884z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" version=\\\"1.1\\\" viewBox=\\\"0 0 32 32\\\"><path d=\\\"M26.667 5.333h-21.333c-0 0-0.001 0-0.001 0-1.472 0-2.666 1.194-2.666 2.666 0 0 0 0.001 0 0.001v-0 16c0 0 0 0.001 0 0.001 0 1.472 1.194 2.666 2.666 2.666 0 0 0.001 0 0.001 0h21.333c0 0 0.001 0 0.001 0 1.472 0 2.666-1.194 2.666-2.666 0-0 0-0.001 0-0.001v0-16c0-0 0-0.001 0-0.001 0-1.472-1.194-2.666-2.666-2.666-0 0-0.001 0-0.001 0h0zM5.333 16h5.333v2.667h-5.333v-2.667zM18.667 24h-13.333v-2.667h13.333v2.667zM26.667 24h-5.333v-2.667h5.333v2.667zM26.667 18.667h-13.333v-2.667h13.333v2.667z\\\"></path></svg>\"","module.exports = \"<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" viewBox=\\\"0 0 24 24\\\"><path d=\\\"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96zM19 18H6c-2.21 0-4-1.79-4-4 0-2.05 1.53-3.76 3.56-3.97l1.07-.11.5-.95C8.08 7.14 9.94 6 12 6c2.62 0 4.88 1.86 5.39 4.43l.3 1.5 1.53.11c1.56.1 2.78 1.41 2.78 2.96 0 1.65-1.35 3-3 3zm-5.55-8h-2.9v3H8l4 4 4-4h-2.55z\\\"></path></svg>\"","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nexports.default = function (options) {\n    var defaultOption = {\n        container: options.element || document.getElementsByClassName('aplayer')[0],\n        mini: options.narrow || options.fixed || false,\n        fixed: false,\n        autoplay: false,\n        mutex: true,\n        lrcType: options.showlrc || options.lrc || 0,\n        preload: 'metadata',\n        theme: '#b7daff',\n        loop: 'all',\n        order: 'list',\n        volume: 0.7,\n        listFolded: options.fixed,\n        listMaxHeight: options.listmaxheight || 250,\n        audio: options.music || [],\n        storageName: 'aplayer-setting'\n    };\n    for (var defaultKey in defaultOption) {\n        if (defaultOption.hasOwnProperty(defaultKey) && !options.hasOwnProperty(defaultKey)) {\n            options[defaultKey] = defaultOption[defaultKey];\n        }\n    }\n    options.listMaxHeight = parseFloat(options.listMaxHeight);\n    if (Object.prototype.toString.call(options.audio) !== '[object Array]') {\n        options.audio = [options.audio];\n    }\n    options.audio.map(function (item) {\n        item.name = item.name || item.title || 'Audio name';\n        item.artist = item.artist || item.author || 'Audio artist';\n        item.cover = item.cover || item.pic;\n        item.type = item.type || 'normal';\n        return item;\n    });\n    if (options.audio.length <= 1 && options.loop === 'one') {\n        options.loop = 'all';\n    }\n    return options;\n};","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nvar _icons = require('./icons');\nvar _icons2 = _interopRequireDefault(_icons);\nvar _player = require('../template/player.art');\nvar _player2 = _interopRequireDefault(_player);\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar Template = function () {\n    function Template(options) {\n        _classCallCheck(this, Template);\n        this.container = options.container;\n        this.options = options.options;\n        this.randomOrder = options.randomOrder;\n        this.init();\n    }\n    _createClass(Template, [{\n            key: 'init',\n            value: function init() {\n                var cover = '';\n                if (this.options.audio.length) {\n                    if (this.options.order === 'random') {\n                        cover = this.options.audio[this.randomOrder[0]].cover;\n                    } else {\n                        cover = this.options.audio[0].cover;\n                    }\n                }\n                this.container.innerHTML = (0, _player2.default)({\n                    options: this.options,\n                    icons: _icons2.default,\n                    cover: cover,\n                    getObject: function getObject(obj) {\n                        return obj;\n                    }\n                });\n                this.lrc = this.container.querySelector('.aplayer-lrc-contents');\n                this.lrcWrap = this.container.querySelector('.aplayer-lrc');\n                this.ptime = this.container.querySelector('.aplayer-ptime');\n                this.info = this.container.querySelector('.aplayer-info');\n                this.time = this.container.querySelector('.aplayer-time');\n                this.barWrap = this.container.querySelector('.aplayer-bar-wrap');\n                this.button = this.container.querySelector('.aplayer-button');\n                this.body = this.container.querySelector('.aplayer-body');\n                this.list = this.container.querySelector('.aplayer-list');\n                this.listCurs = this.container.querySelectorAll('.aplayer-list-cur');\n                this.played = this.container.querySelector('.aplayer-played');\n                this.loaded = this.container.querySelector('.aplayer-loaded');\n                this.thumb = this.container.querySelector('.aplayer-thumb');\n                this.volume = this.container.querySelector('.aplayer-volume');\n                this.volumeBar = this.container.querySelector('.aplayer-volume-bar');\n                this.volumeButton = this.container.querySelector('.aplayer-time button');\n                this.volumeBarWrap = this.container.querySelector('.aplayer-volume-bar-wrap');\n                this.loop = this.container.querySelector('.aplayer-icon-loop');\n                this.order = this.container.querySelector('.aplayer-icon-order');\n                this.menu = this.container.querySelector('.aplayer-icon-menu');\n                this.pic = this.container.querySelector('.aplayer-pic');\n                this.title = this.container.querySelector('.aplayer-title');\n                this.author = this.container.querySelector('.aplayer-author');\n                this.dtime = this.container.querySelector('.aplayer-dtime');\n                this.notice = this.container.querySelector('.aplayer-notice');\n                this.miniSwitcher = this.container.querySelector('.aplayer-miniswitcher');\n                this.skipBackButton = this.container.querySelector('.aplayer-icon-back');\n                this.skipForwardButton = this.container.querySelector('.aplayer-icon-forward');\n                this.skipPlayButton = this.container.querySelector('.aplayer-icon-play');\n                this.lrcButton = this.container.querySelector('.aplayer-icon-lrc');\n                this.downloadButton = this.container.querySelectorAll('.aplayer-download');\n                this.spinner = this.container.querySelector('#loading');\n            }\n        }]);\n    return Template;\n}();\nexports.default = Template;","{{ if !options.fixed }}\n<div class=\"aplayer-body\">\n    <div class=\"aplayer-pic\" style=\"{{ if cover  }}background-image: url(&quot;{{ cover }}&quot;);{{ /if }}background-color: {{ options.theme }};\">\n        <div class=\"aplayer-button aplayer-play\">{{@ icons.play }}</div>\n    </div>\n    <div class=\"aplayer-info\">\n        <div class=\"aplayer-music\">\n            <span class=\"aplayer-title\">No audio</span>\n            <span class=\"aplayer-author\"></span>\n            <span class=\"aplayer-download\"> (Download) </span>\n            <div id=\"loading\"></div>\n        </div>\n        <div class=\"aplayer-lrc\">\n            <div class=\"aplayer-lrc-contents\" style=\"transform: translateY(0); -webkit-transform: translateY(0);\"></div>\n        </div>\n        <div class=\"aplayer-controller\">\n            <div class=\"aplayer-bar-wrap\">\n                <div class=\"aplayer-bar\">\n                    <div class=\"aplayer-loaded\" style=\"width: 0\"></div>\n                    <div class=\"aplayer-played\" style=\"width: 0; background: {{ options.theme }};\">\n                        <span class=\"aplayer-thumb\" style=\"background: {{ options.theme }};\">\n                            <span class=\"aplayer-loading-icon\">{{@ icons.loading }}</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"aplayer-time\">\n                <span class=\"aplayer-time-inner\">\n                    <span class=\"aplayer-ptime\">00:00</span> / <span class=\"aplayer-dtime\">00:00</span>\n                </span>\n                <span class=\"aplayer-icon aplayer-icon-back\">\n                    {{@ icons.skip }}\n                </span>\n                <span class=\"aplayer-icon aplayer-icon-play\">\n                    {{@ icons.play }}\n                </span>\n                <span class=\"aplayer-icon aplayer-icon-forward\">\n                    {{@ icons.skip }}\n                </span>\n                <div class=\"aplayer-volume-wrap\">\n                    <button type=\"button\" class=\"aplayer-icon aplayer-icon-volume-down\">\n                        {{@ icons.volumeDown }}\n                    </button>\n                    <div class=\"aplayer-volume-bar-wrap\">\n                        <div class=\"aplayer-volume-bar\">\n                            <div class=\"aplayer-volume\" style=\"height: 80%; background: {{ options.theme }};\"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type=\"button\" class=\"aplayer-icon aplayer-icon-order\">\n                    {{ if options.order === 'list' }}{{@ icons.orderList }}{{ else if options.order === 'random' }}{{@ icons.orderRandom }}{{ /if }}\n                </button>\n                <button type=\"button\" class=\"aplayer-icon aplayer-icon-loop\">\n                    {{ if options.loop === 'one' }}{{@ icons.loopOne }}{{ else if options.loop === 'all' }}{{@ icons.loopAll }}{{ else if options.loop === 'none' }}{{@ icons.loopNone }}{{ /if }}\n                </button>\n                <button type=\"button\" class=\"aplayer-icon aplayer-icon-menu\">\n                    {{@ icons.menu }}\n                </button>\n                <button type=\"button\" class=\"aplayer-icon aplayer-icon-lrc\">\n                    {{@ icons.lrc }}\n                </button>\n                <button type=\"button\" class=\"aplayer-icon aplayer-download\">\n                    {{@ icons.download }}\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class=\"aplayer-notice\"></div>\n    <div class=\"aplayer-miniswitcher\"><button class=\"aplayer-icon\">{{@ icons.right }}</button></div>\n</div>\n<ol class=\"aplayer-list{{ if options.listFolded }} aplayer-list-hide{{ /if }}\">\n    {{ include './list-item.art' getObject({\n        theme: options.theme,\n        audio: options.audio,\n        index: 1\n    }) }}\n</ol>\n{{ else }}\n<ol class=\"aplayer-list{{ if options.listFolded }} aplayer-list-hide{{ /if }}\">\n    {{ include './list-item.art' getObject({\n        theme: options.theme,\n        audio: options.audio,\n        index: 1\n    }) }}\n</ol>\n<div class=\"aplayer-body\">\n    <div class=\"aplayer-pic\" style=\"{{ if cover  }}background-image: url(&quot;{{ cover }}&quot;);{{ /if }}background-color: {{ options.theme }};\">\n        <div class=\"aplayer-button aplayer-play\">{{@ icons.play }}</div>\n    </div>\n    <div class=\"aplayer-info\" style=\"display: none;\">\n        <div class=\"aplayer-music\">\n            <span class=\"aplayer-title\">No audio</span>\n            <span class=\"aplayer-author\"></span>\n        </div>\n        <div class=\"aplayer-controller\">\n            <div class=\"aplayer-bar-wrap\">\n                <div class=\"aplayer-bar\">\n                    <div class=\"aplayer-loaded\" style=\"width: 0\"></div>\n                    <div class=\"aplayer-played\" style=\"width: 0; background: {{ options.theme }};\">\n                        <span class=\"aplayer-thumb\" style=\"background: {{ options.theme }};\">\n                            <span class=\"aplayer-loading-icon\">{{@ icons.loading }}</span>\n                        </span>\n                    </div>\n                </div>\n            </div>\n            <div class=\"aplayer-time\">\n                <span class=\"aplayer-time-inner\">\n                    <span class=\"aplayer-ptime\">00:00</span> / <span class=\"aplayer-dtime\">00:00</span>\n                </span>\n                <span class=\"aplayer-icon aplayer-icon-back\">\n                    {{@ icons.skip }}\n                </span>\n                <span class=\"aplayer-icon aplayer-icon-play\">\n                    {{@ icons.play }}\n                </span>\n                <span class=\"aplayer-icon aplayer-icon-forward\">\n                    {{@ icons.skip }}\n                </span>\n                <div class=\"aplayer-volume-wrap\">\n                    <button type=\"button\" class=\"aplayer-icon aplayer-icon-volume-down\">\n                        {{@ icons.volumeDown }}\n                    </button>\n                    <div class=\"aplayer-volume-bar-wrap\">\n                        <div class=\"aplayer-volume-bar\">\n                            <div class=\"aplayer-volume\" style=\"height: 80%; background: {{ options.theme }};\"></div>\n                        </div>\n                    </div>\n                </div>\n                <button type=\"button\" class=\"aplayer-icon aplayer-icon-order\">\n                    {{ if options.order === 'list' }}{{@ icons.orderList }}{{ else if options.order === 'random' }}{{@ icons.orderRandom }}{{ /if }}\n                </button>\n                <button type=\"button\" class=\"aplayer-icon aplayer-icon-loop\">\n                    {{ if options.loop === 'one' }}{{@ icons.loopOne }}{{ else if options.loop === 'all' }}{{@ icons.loopAll }}{{ else if options.loop === 'none' }}{{@ icons.loopNone }}{{ /if }}\n                </button>\n                <button type=\"button\" class=\"aplayer-icon aplayer-icon-menu\">\n                    {{@ icons.menu }}\n                </button>\n                <button type=\"button\" class=\"aplayer-icon aplayer-icon-lrc\">\n                    {{@ icons.lrc }}\n                </button>\n            </div>\n        </div>\n    </div>\n    <div class=\"aplayer-notice\"></div>\n    <div class=\"aplayer-miniswitcher\"><button class=\"aplayer-icon\">{{@ icons.right }}</button></div>\n</div>\n<div class=\"aplayer-lrc\">\n    <div class=\"aplayer-lrc-contents\" style=\"transform: translateY(0); -webkit-transform: translateY(0);\"></div>\n</div>\n{{/if}}","'use strict';\nvar detectNode = require('detect-node');\nvar runtime = Object.create(detectNode ? global : window);\nvar ESCAPE_REG = /[\"&'<>]/;\nruntime.$escape = function (content) {\n    return xmlEscape(toString(content));\n};\nruntime.$each = function (data, callback) {\n    if (Array.isArray(data)) {\n        for (var i = 0, len = data.length; i < len; i++) {\n            callback(data[i], i);\n        }\n    } else {\n        for (var _i in data) {\n            callback(data[_i], _i);\n        }\n    }\n};\nfunction toString(value) {\n    if (typeof value !== 'string') {\n        if (value === undefined || value === null) {\n            value = '';\n        } else if (typeof value === 'function') {\n            value = toString(value.call(value));\n        } else {\n            value = JSON.stringify(value);\n        }\n    }\n    return value;\n}\n;\nfunction xmlEscape(content) {\n    var html = '' + content;\n    var regexResult = ESCAPE_REG.exec(html);\n    if (!regexResult) {\n        return content;\n    }\n    var result = '';\n    var i = void 0, lastIndex = void 0, char = void 0;\n    for (i = regexResult.index, lastIndex = 0; i < html.length; i++) {\n        switch (html.charCodeAt(i)) {\n        case 34:\n            char = '&#34;';\n            break;\n        case 38:\n            char = '&#38;';\n            break;\n        case 39:\n            char = '&#39;';\n            break;\n        case 60:\n            char = '&#60;';\n            break;\n        case 62:\n            char = '&#62;';\n            break;\n        default:\n            continue;\n        }\n        if (lastIndex !== i) {\n            result += html.substring(lastIndex, i);\n        }\n        lastIndex = i + 1;\n        result += char;\n    }\n    if (lastIndex !== i) {\n        return result + html.substring(lastIndex, i);\n    } else {\n        return result;\n    }\n}\n;\nmodule.exports = runtime;","'use strict';\nmodule.exports = false;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar Bar = function () {\n    function Bar(template) {\n        _classCallCheck(this, Bar);\n        this.elements = {};\n        this.elements.volume = template.volume;\n        this.elements.played = template.played;\n        this.elements.loaded = template.loaded;\n    }\n    _createClass(Bar, [\n        {\n            key: 'set',\n            value: function set(type, percentage, direction) {\n                percentage = Math.max(percentage, 0);\n                percentage = Math.min(percentage, 1);\n                this.elements[type].style[direction] = percentage * 100 + '%';\n            }\n        },\n        {\n            key: 'get',\n            value: function get(type, direction) {\n                return parseFloat(this.elements[type].style[direction]) / 100;\n            }\n        }\n    ]);\n    return Bar;\n}();\nexports.default = Bar;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nvar _utils = require('./utils');\nvar _utils2 = _interopRequireDefault(_utils);\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar Storage = function () {\n    function Storage(player) {\n        _classCallCheck(this, Storage);\n        this.storageName = player.options.storageName;\n        this.data = JSON.parse(_utils2.default.storage.get(this.storageName));\n        if (!this.data) {\n            this.data = {};\n        }\n        this.data.volume = this.data.volume || player.options.volume;\n    }\n    _createClass(Storage, [\n        {\n            key: 'get',\n            value: function get(key) {\n                return this.data[key];\n            }\n        },\n        {\n            key: 'set',\n            value: function set(key, value) {\n                this.data[key] = value;\n                _utils2.default.storage.set(this.storageName, JSON.stringify(this.data));\n            }\n        }\n    ]);\n    return Storage;\n}();\nexports.default = Storage;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nvar _lrc = require('../template/lrc.art');\nvar _lrc2 = _interopRequireDefault(_lrc);\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar Lrc = function () {\n    function Lrc(options) {\n        _classCallCheck(this, Lrc);\n        this.container = options.container;\n        this.async = options.async;\n        this.player = options.player;\n        this.parsed = [];\n        this.index = 0;\n        this.current = [];\n    }\n    _createClass(Lrc, [\n        {\n            key: 'show',\n            value: function show() {\n                this.player.events.trigger('lrcshow');\n                this.player.template.lrcWrap.classList.remove('aplayer-lrc-hide');\n            }\n        },\n        {\n            key: 'hide',\n            value: function hide() {\n                this.player.events.trigger('lrchide');\n                this.player.template.lrcWrap.classList.add('aplayer-lrc-hide');\n            }\n        },\n        {\n            key: 'toggle',\n            value: function toggle() {\n                if (this.player.template.lrcWrap.classList.contains('aplayer-lrc-hide')) {\n                    this.show();\n                } else {\n                    this.hide();\n                }\n            }\n        },\n        {\n            key: 'update',\n            value: function update() {\n                var currentTime = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.player.audio.currentTime;\n                if (this.index > this.current.length - 1 || currentTime < this.current[this.index][0] || !this.current[this.index + 1] || currentTime >= this.current[this.index + 1][0]) {\n                    for (var i = 0; i < this.current.length; i++) {\n                        if (currentTime >= this.current[i][0] && (!this.current[i + 1] || currentTime < this.current[i + 1][0])) {\n                            this.index = i;\n                            this.container.style.transform = 'translateY(' + -this.index * 16 + 'px)';\n                            this.container.style.webkitTransform = 'translateY(' + -this.index * 16 + 'px)';\n                            this.container.getElementsByClassName('aplayer-lrc-current')[0].classList.remove('aplayer-lrc-current');\n                            this.container.getElementsByTagName('p')[i].classList.add('aplayer-lrc-current');\n                        }\n                    }\n                }\n            }\n        },\n        {\n            key: 'switch',\n            value: function _switch(index) {\n                var _this = this;\n                if (!this.parsed[index]) {\n                    if (!this.async) {\n                        if (this.player.list.audios[index].lrc) {\n                            this.parsed[index] = this.parse(this.player.list.audios[index].lrc);\n                        } else {\n                            this.parsed[index] = [[\n                                    '00:00',\n                                    'Not available'\n                                ]];\n                        }\n                    } else {\n                        this.parsed[index] = [[\n                                '00:00',\n                                'Loading'\n                            ]];\n                        var xhr = new XMLHttpRequest();\n                        xhr.onreadystatechange = function () {\n                            if (index === _this.player.list.index && xhr.readyState === 4) {\n                                if (xhr.status >= 200 && xhr.status < 300 || xhr.status === 304) {\n                                    _this.parsed[index] = _this.parse(xhr.responseText);\n                                } else {\n                                    _this.player.notice('LRC file request fails: status ' + xhr.status);\n                                    _this.parsed[index] = [[\n                                            '00:00',\n                                            'Not available'\n                                        ]];\n                                }\n                                _this.container.innerHTML = (0, _lrc2.default)({ lyrics: _this.parsed[index] });\n                                _this.update(0);\n                                _this.current = _this.parsed[index];\n                            }\n                        };\n                        var apiurl = this.player.list.audios[index].lrc;\n                        xhr.open('get', apiurl, true);\n                        xhr.send(null);\n                    }\n                }\n                this.container.innerHTML = (0, _lrc2.default)({ lyrics: this.parsed[index] });\n                this.update(0);\n                this.current = this.parsed[index];\n            }\n        },\n        {\n            key: 'parse',\n            value: function parse(lrc_s) {\n                if (lrc_s) {\n                    lrc_s = lrc_s.replace(/([^\\]^\\n])\\[/g, function (match, p1) {\n                        return p1 + '\\n[';\n                    });\n                    var lyric = lrc_s.split('\\n');\n                    var lrc = [];\n                    var lyricLen = lyric.length;\n                    for (var i = 0; i < lyricLen; i++) {\n                        var lrcTimes = lyric[i].match(/\\[(\\d{2}):(\\d{2})(\\.(\\d{2,3}))?]/g);\n                        var lrcText = lyric[i].replace(/.*\\[(\\d{2}):(\\d{2})(\\.(\\d{2,3}))?]/g, '').replace(/<(\\d{2}):(\\d{2})(\\.(\\d{2,3}))?>/g, '').replace(/^\\s+|\\s+$/g, '');\n                        if (lrcTimes) {\n                            var timeLen = lrcTimes.length;\n                            for (var j = 0; j < timeLen; j++) {\n                                var oneTime = /\\[(\\d{2}):(\\d{2})(\\.(\\d{2,3}))?]/.exec(lrcTimes[j]);\n                                var min2sec = oneTime[1] * 60;\n                                var sec2sec = parseInt(oneTime[2]);\n                                var msec2sec = oneTime[4] ? parseInt(oneTime[4]) / ((oneTime[4] + '').length === 2 ? 100 : 1000) : 0;\n                                var lrcTime = min2sec + sec2sec + msec2sec;\n                                lrc.push([\n                                    lrcTime,\n                                    lrcText\n                                ]);\n                            }\n                        }\n                    }\n                    lrc = lrc.filter(function (item) {\n                        return item[1];\n                    });\n                    lrc.sort(function (a, b) {\n                        return a[0] - b[0];\n                    });\n                    return lrc;\n                } else {\n                    return [];\n                }\n            }\n        },\n        {\n            key: 'remove',\n            value: function remove(index) {\n                this.parsed.splice(index, 1);\n            }\n        },\n        {\n            key: 'clear',\n            value: function clear() {\n                this.parsed = [];\n                this.container.innerHTML = '';\n            }\n        }\n    ]);\n    return Lrc;\n}();\nexports.default = Lrc;","{{each lyrics}}\n    <p{{ if $index === 0 }} class=\"aplayer-lrc-current\"{{ /if }}>{{$value[1]}}</p>\n{{/each}}","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nvar _utils = require('./utils');\nvar _utils2 = _interopRequireDefault(_utils);\nvar _icons = require('./icons');\nvar _icons2 = _interopRequireDefault(_icons);\nvar _fileSaver = require('file-saver');\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar Controller = function () {\n    function Controller(player) {\n        _classCallCheck(this, Controller);\n        this.player = player;\n        this.initPlayButton();\n        this.initPlayBar();\n        this.initOrderButton();\n        this.initLoopButton();\n        this.initMenuButton();\n        if (!_utils2.default.isMobile) {\n            this.initVolumeButton();\n        }\n        this.initMiniSwitcher();\n        this.initSkipButton();\n        this.initLrcButton();\n        this.initDownloadButton();\n    }\n    _createClass(Controller, [\n        {\n            key: 'initPlayButton',\n            value: function initPlayButton() {\n                var _this = this;\n                this.player.template.pic.addEventListener('click', function () {\n                    _this.player.toggle();\n                });\n            }\n        },\n        {\n            key: 'initPlayBar',\n            value: function initPlayBar() {\n                var _this2 = this;\n                var thumbMove = function thumbMove(e) {\n                    var percentage = ((e.clientX || e.changedTouches[0].clientX) - _this2.player.template.barWrap.getBoundingClientRect().left) / _this2.player.template.barWrap.clientWidth;\n                    percentage = Math.max(percentage, 0);\n                    percentage = Math.min(percentage, 1);\n                    _this2.player.bar.set('played', percentage, 'width');\n                    _this2.player.lrc && _this2.player.lrc.update(percentage * _this2.player.duration);\n                    _this2.player.template.ptime.innerHTML = _utils2.default.secondToTime(percentage * _this2.player.duration);\n                };\n                var thumbUp = function thumbUp(e) {\n                    document.removeEventListener(_utils2.default.nameMap.dragEnd, thumbUp);\n                    document.removeEventListener(_utils2.default.nameMap.dragMove, thumbMove);\n                    var percentage = ((e.clientX || e.changedTouches[0].clientX) - _this2.player.template.barWrap.getBoundingClientRect().left) / _this2.player.template.barWrap.clientWidth;\n                    percentage = Math.max(percentage, 0);\n                    percentage = Math.min(percentage, 1);\n                    _this2.player.bar.set('played', percentage, 'width');\n                    _this2.player.seek(percentage * _this2.player.duration);\n                    _this2.player.disableTimeupdate = false;\n                };\n                this.player.template.barWrap.addEventListener(_utils2.default.nameMap.dragStart, function () {\n                    _this2.player.disableTimeupdate = true;\n                    document.addEventListener(_utils2.default.nameMap.dragMove, thumbMove);\n                    document.addEventListener(_utils2.default.nameMap.dragEnd, thumbUp);\n                });\n            }\n        },\n        {\n            key: 'initVolumeButton',\n            value: function initVolumeButton() {\n                var _this3 = this;\n                this.player.template.volumeButton.addEventListener('click', function () {\n                    if (_this3.player.audio.muted) {\n                        _this3.player.volume(_this3.player.audio.volume, true);\n                    } else {\n                        _this3.player.audio.muted = true;\n                        _this3.player.switchVolumeIcon();\n                        _this3.player.bar.set('volume', 0, 'height');\n                    }\n                });\n                var thumbMove = function thumbMove(e) {\n                    var percentage = 1 - ((e.clientY || e.changedTouches[0].clientY) - _this3.player.template.volumeBar.getBoundingClientRect().top) / _this3.player.template.volumeBar.clientHeight;\n                    percentage = Math.max(percentage, 0);\n                    percentage = Math.min(percentage, 1);\n                    _this3.player.volume(percentage);\n                };\n                var thumbUp = function thumbUp(e) {\n                    _this3.player.template.volumeBarWrap.classList.remove('aplayer-volume-bar-wrap-active');\n                    document.removeEventListener(_utils2.default.nameMap.dragEnd, thumbUp);\n                    document.removeEventListener(_utils2.default.nameMap.dragMove, thumbMove);\n                    var percentage = 1 - ((e.clientY || e.changedTouches[0].clientY) - _this3.player.template.volumeBar.getBoundingClientRect().top) / _this3.player.template.volumeBar.clientHeight;\n                    percentage = Math.max(percentage, 0);\n                    percentage = Math.min(percentage, 1);\n                    _this3.player.volume(percentage);\n                };\n                this.player.template.volumeBarWrap.addEventListener(_utils2.default.nameMap.dragStart, function () {\n                    _this3.player.template.volumeBarWrap.classList.add('aplayer-volume-bar-wrap-active');\n                    document.addEventListener(_utils2.default.nameMap.dragMove, thumbMove);\n                    document.addEventListener(_utils2.default.nameMap.dragEnd, thumbUp);\n                });\n            }\n        },\n        {\n            key: 'initOrderButton',\n            value: function initOrderButton() {\n                var _this4 = this;\n                this.player.template.order.addEventListener('click', function () {\n                    if (_this4.player.options.order === 'list') {\n                        _this4.player.options.order = 'random';\n                        _this4.player.template.order.innerHTML = _icons2.default.orderRandom;\n                    } else if (_this4.player.options.order === 'random') {\n                        _this4.player.options.order = 'list';\n                        _this4.player.template.order.innerHTML = _icons2.default.orderList;\n                    }\n                });\n            }\n        },\n        {\n            key: 'initLoopButton',\n            value: function initLoopButton() {\n                var _this5 = this;\n                this.player.template.loop.addEventListener('click', function () {\n                    if (_this5.player.list.audios.length > 1) {\n                        if (_this5.player.options.loop === 'one') {\n                            _this5.player.options.loop = 'none';\n                            _this5.player.template.loop.innerHTML = _icons2.default.loopNone;\n                        } else if (_this5.player.options.loop === 'none') {\n                            _this5.player.options.loop = 'all';\n                            _this5.player.template.loop.innerHTML = _icons2.default.loopAll;\n                        } else if (_this5.player.options.loop === 'all') {\n                            _this5.player.options.loop = 'one';\n                            _this5.player.template.loop.innerHTML = _icons2.default.loopOne;\n                        }\n                    } else {\n                        if (_this5.player.options.loop === 'one' || _this5.player.options.loop === 'all') {\n                            _this5.player.options.loop = 'none';\n                            _this5.player.template.loop.innerHTML = _icons2.default.loopNone;\n                        } else if (_this5.player.options.loop === 'none') {\n                            _this5.player.options.loop = 'all';\n                            _this5.player.template.loop.innerHTML = _icons2.default.loopAll;\n                        }\n                    }\n                });\n            }\n        },\n        {\n            key: 'initMenuButton',\n            value: function initMenuButton() {\n                var _this6 = this;\n                this.player.template.menu.addEventListener('click', function () {\n                    _this6.player.list.toggle();\n                });\n            }\n        },\n        {\n            key: 'initMiniSwitcher',\n            value: function initMiniSwitcher() {\n                var _this7 = this;\n                this.player.template.miniSwitcher.addEventListener('click', function () {\n                    _this7.player.setMode(_this7.player.mode === 'mini' ? 'normal' : 'mini');\n                });\n            }\n        },\n        {\n            key: 'initSkipButton',\n            value: function initSkipButton() {\n                var _this8 = this;\n                this.player.template.skipBackButton.addEventListener('click', function () {\n                    _this8.player.skipBack();\n                });\n                this.player.template.skipForwardButton.addEventListener('click', function () {\n                    _this8.player.skipForward();\n                });\n                this.player.template.skipPlayButton.addEventListener('click', function () {\n                    _this8.player.toggle();\n                });\n            }\n        },\n        {\n            key: 'initLrcButton',\n            value: function initLrcButton() {\n                var _this9 = this;\n                this.player.template.lrcButton.addEventListener('click', function () {\n                    if (_this9.player.template.lrcButton.classList.contains('aplayer-icon-lrc-inactivity')) {\n                        _this9.player.template.lrcButton.classList.remove('aplayer-icon-lrc-inactivity');\n                        _this9.player.lrc && _this9.player.lrc.show();\n                    } else {\n                        _this9.player.template.lrcButton.classList.add('aplayer-icon-lrc-inactivity');\n                        _this9.player.lrc && _this9.player.lrc.hide();\n                    }\n                });\n            }\n        },\n        {\n            key: 'initDownloadButton',\n            value: function initDownloadButton() {\n                var _this10 = this;\n                if (!this.player.template.downloadButton) {\n                    return;\n                }\n                var _iteratorNormalCompletion = true;\n                var _didIteratorError = false;\n                var _iteratorError = undefined;\n                try {\n                    for (var _iterator = this.player.template.downloadButton[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                        var btn = _step.value;\n                        btn.addEventListener('click', function () {\n                            var url = _this10.player.audio.src;\n                            var reg = /(?:.*\\/)*(.*)/;\n                            var filename = reg.exec(url);\n                            var spinner = _this10.player.template.spinner.style;\n                            spinner.display = 'inline-block';\n                            (0, _fileSaver.saveAs)(url, filename[1]);\n                            setTimeout(function () {\n                                spinner.display = 'none';\n                            }, 8000);\n                        });\n                    }\n                } catch (err) {\n                    _didIteratorError = true;\n                    _iteratorError = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion && _iterator.return) {\n                            _iterator.return();\n                        }\n                    } finally {\n                        if (_didIteratorError) {\n                            throw _iteratorError;\n                        }\n                    }\n                }\n            }\n        }\n    ]);\n    return Controller;\n}();\nexports.default = Controller;","'use strict';\nvar _typeof = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (obj) {\n    return typeof obj;\n} : function (obj) {\n    return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n};\n(function (a, b) {\n    if ('function' == typeof define && define.amd)\n        define([], b);\n    else if ('undefined' != typeof exports)\n        b();\n    else {\n        b(), a.FileSaver = { exports: {} }.exports;\n    }\n}(undefined, function () {\n    'use strict';\n    function b(a, b) {\n        return 'undefined' == typeof b ? b = { autoBom: !1 } : 'object' != (typeof b === 'undefined' ? 'undefined' : _typeof(b)) && (console.warn('Deprecated: Expected third argument to be a object'), b = { autoBom: !b }), b.autoBom && /^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type) ? new Blob([\n            '\\uFEFF',\n            a\n        ], { type: a.type }) : a;\n    }\n    function c(b, c, d) {\n        var e = new XMLHttpRequest();\n        e.open('GET', b), e.responseType = 'blob', e.onload = function () {\n            a(e.response, c, d);\n        }, e.onerror = function () {\n            console.error('could not download file');\n        }, e.send();\n    }\n    function d(a) {\n        var b = new XMLHttpRequest();\n        b.open('HEAD', a, !1);\n        try {\n            b.send();\n        } catch (a) {\n        }\n        return 200 <= b.status && 299 >= b.status;\n    }\n    function e(a) {\n        try {\n            a.dispatchEvent(new MouseEvent('click'));\n        } catch (c) {\n            var b = document.createEvent('MouseEvents');\n            b.initMouseEvent('click', !0, !0, window, 0, 0, 0, 80, 20, !1, !1, !1, !1, 0, null), a.dispatchEvent(b);\n        }\n    }\n    var f = 'object' == (typeof window === 'undefined' ? 'undefined' : _typeof(window)) && window.window === window ? window : 'object' == (typeof self === 'undefined' ? 'undefined' : _typeof(self)) && self.self === self ? self : 'object' == (typeof global === 'undefined' ? 'undefined' : _typeof(global)) && global.global === global ? global : void 0, a = f.saveAs || ('object' != (typeof window === 'undefined' ? 'undefined' : _typeof(window)) || window !== f ? function () {\n        } : 'download' in HTMLAnchorElement.prototype ? function (b, g, h) {\n            var i = f.URL || f.webkitURL, j = document.createElement('a');\n            g = g || b.name || 'download', j.download = g, j.rel = 'noopener', 'string' == typeof b ? (j.href = b, j.origin === location.origin ? e(j) : d(j.href) ? c(b, g, h) : e(j, j.target = '_blank')) : (j.href = i.createObjectURL(b), setTimeout(function () {\n                i.revokeObjectURL(j.href);\n            }, 40000), setTimeout(function () {\n                e(j);\n            }, 0));\n        } : 'msSaveOrOpenBlob' in navigator ? function (f, g, h) {\n            if (g = g || f.name || 'download', 'string' != typeof f)\n                navigator.msSaveOrOpenBlob(b(f, h), g);\n            else if (d(f))\n                c(f, g, h);\n            else {\n                var i = document.createElement('a');\n                i.href = f, i.target = '_blank', setTimeout(function () {\n                    e(i);\n                });\n            }\n        } : function (a, b, d, e) {\n            if (e = e || open('', '_blank'), e && (e.document.title = e.document.body.innerText = 'downloading...'), 'string' == typeof a)\n                return c(a, b, d);\n            var g = 'application/octet-stream' === a.type, h = /constructor/i.test(f.HTMLElement) || f.safari, i = /CriOS\\/[\\d]+/.test(navigator.userAgent);\n            if ((i || g && h) && 'object' == (typeof FileReader === 'undefined' ? 'undefined' : _typeof(FileReader))) {\n                var j = new FileReader();\n                j.onloadend = function () {\n                    var a = j.result;\n                    a = i ? a : a.replace(/^data:[^;]*;/, 'data:attachment/file;'), e ? e.location.href = a : location = a, e = null;\n                }, j.readAsDataURL(a);\n            } else {\n                var k = f.URL || f.webkitURL, l = k.createObjectURL(a);\n                e ? e.location = l : location.href = l, e = null, setTimeout(function () {\n                    k.revokeObjectURL(l);\n                }, 40000);\n            }\n        });\n    f.saveAs = a.saveAs = a, 'undefined' != typeof module && (module.exports = a);\n}));","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar Timer = function () {\n    function Timer(player) {\n        _classCallCheck(this, Timer);\n        this.player = player;\n        window.requestAnimationFrame = function () {\n            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (callback) {\n                window.setTimeout(callback, 1000 / 60);\n            };\n        }();\n        this.types = ['loading'];\n        this.init();\n    }\n    _createClass(Timer, [\n        {\n            key: 'init',\n            value: function init() {\n                var _this = this;\n                this.types.forEach(function (item) {\n                    _this['init' + item + 'Checker']();\n                });\n            }\n        },\n        {\n            key: 'initloadingChecker',\n            value: function initloadingChecker() {\n                var _this2 = this;\n                var lastPlayPos = 0;\n                var currentPlayPos = 0;\n                var bufferingDetected = false;\n                this.loadingChecker = setInterval(function () {\n                    if (_this2.enableloadingChecker) {\n                        currentPlayPos = _this2.player.audio.currentTime;\n                        if (!bufferingDetected && currentPlayPos === lastPlayPos && !_this2.player.audio.paused) {\n                            _this2.player.container.classList.add('aplayer-loading');\n                            bufferingDetected = true;\n                        }\n                        if (bufferingDetected && currentPlayPos > lastPlayPos && !_this2.player.audio.paused) {\n                            _this2.player.container.classList.remove('aplayer-loading');\n                            bufferingDetected = false;\n                        }\n                        lastPlayPos = currentPlayPos;\n                    }\n                }, 100);\n            }\n        },\n        {\n            key: 'enable',\n            value: function enable(type) {\n                this['enable' + type + 'Checker'] = true;\n                if (type === 'fps') {\n                    this.initfpsChecker();\n                }\n            }\n        },\n        {\n            key: 'disable',\n            value: function disable(type) {\n                this['enable' + type + 'Checker'] = false;\n            }\n        },\n        {\n            key: 'destroy',\n            value: function destroy() {\n                var _this3 = this;\n                this.types.forEach(function (item) {\n                    _this3['enable' + item + 'Checker'] = false;\n                    _this3[item + 'Checker'] && clearInterval(_this3[item + 'Checker']);\n                });\n            }\n        }\n    ]);\n    return Timer;\n}();\nexports.default = Timer;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar Events = function () {\n    function Events() {\n        _classCallCheck(this, Events);\n        this.events = {};\n        this.audioEvents = [\n            'abort',\n            'canplay',\n            'canplaythrough',\n            'durationchange',\n            'emptied',\n            'ended',\n            'error',\n            'loadeddata',\n            'loadedmetadata',\n            'loadstart',\n            'mozaudioavailable',\n            'pause',\n            'play',\n            'playing',\n            'progress',\n            'ratechange',\n            'seeked',\n            'seeking',\n            'stalled',\n            'suspend',\n            'timeupdate',\n            'volumechange',\n            'waiting'\n        ];\n        this.playerEvents = [\n            'destroy',\n            'listshow',\n            'listhide',\n            'listadd',\n            'listremove',\n            'listswitch',\n            'listclear',\n            'noticeshow',\n            'noticehide',\n            'lrcshow',\n            'lrchide'\n        ];\n    }\n    _createClass(Events, [\n        {\n            key: 'on',\n            value: function on(name, callback) {\n                if (this.type(name) && typeof callback === 'function') {\n                    if (!this.events[name]) {\n                        this.events[name] = [];\n                    }\n                    this.events[name].push(callback);\n                }\n            }\n        },\n        {\n            key: 'trigger',\n            value: function trigger(name, data) {\n                if (this.events[name] && this.events[name].length) {\n                    for (var i = 0; i < this.events[name].length; i++) {\n                        this.events[name][i](data);\n                    }\n                }\n            }\n        },\n        {\n            key: 'type',\n            value: function type(name) {\n                if (this.playerEvents.indexOf(name) !== -1) {\n                    return 'player';\n                } else if (this.audioEvents.indexOf(name) !== -1) {\n                    return 'audio';\n                }\n                console.error('Unknown event name: ' + name);\n                return null;\n            }\n        }\n    ]);\n    return Events;\n}();\nexports.default = Events;","'use strict';\nObject.defineProperty(exports, '__esModule', { value: true });\nvar _createClass = function () {\n    function defineProperties(target, props) {\n        for (var i = 0; i < props.length; i++) {\n            var descriptor = props[i];\n            descriptor.enumerable = descriptor.enumerable || false;\n            descriptor.configurable = true;\n            if ('value' in descriptor)\n                descriptor.writable = true;\n            Object.defineProperty(target, descriptor.key, descriptor);\n        }\n    }\n    return function (Constructor, protoProps, staticProps) {\n        if (protoProps)\n            defineProperties(Constructor.prototype, protoProps);\n        if (staticProps)\n            defineProperties(Constructor, staticProps);\n        return Constructor;\n    };\n}();\nvar _listItem = require('../template/list-item.art');\nvar _listItem2 = _interopRequireDefault(_listItem);\nvar _utils = require('./utils');\nvar _utils2 = _interopRequireDefault(_utils);\nvar _smoothscroll = require('smoothscroll');\nvar _smoothscroll2 = _interopRequireDefault(_smoothscroll);\nfunction _interopRequireDefault(obj) {\n    return obj && obj.__esModule ? obj : { default: obj };\n}\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError('Cannot call a class as a function');\n    }\n}\nvar List = function () {\n    function List(player) {\n        _classCallCheck(this, List);\n        this.player = player;\n        this.index = 0;\n        this.audios = this.player.options.audio;\n        this.showing = true;\n        this.player.template.list.style.height = Math.min(this.player.template.list.scrollHeight, this.player.options.listMaxHeight) + 'px';\n        this.bindEvents();\n    }\n    _createClass(List, [\n        {\n            key: 'bindEvents',\n            value: function bindEvents() {\n                var _this = this;\n                this.player.template.list.addEventListener('click', function (e) {\n                    var target = void 0;\n                    if (e.target.tagName.toUpperCase() === 'LI') {\n                        target = e.target;\n                    } else {\n                        target = e.target.parentElement;\n                    }\n                    var audioIndex = parseInt(target.getElementsByClassName('aplayer-list-index')[0].innerHTML) - 1;\n                    if (audioIndex !== _this.index) {\n                        _this.switch(audioIndex);\n                        _this.player.play();\n                    } else {\n                        _this.player.toggle();\n                    }\n                });\n            }\n        },\n        {\n            key: 'show',\n            value: function show() {\n                this.showing = true;\n                this.player.template.list.scrollTop = this.index * 33;\n                this.player.template.list.style.height = Math.min(this.player.template.list.scrollHeight, this.player.options.listMaxHeight) + 'px';\n                this.player.events.trigger('listshow');\n            }\n        },\n        {\n            key: 'hide',\n            value: function hide() {\n                var _this2 = this;\n                this.showing = false;\n                this.player.template.list.style.height = Math.min(this.player.template.list.scrollHeight, this.player.options.listMaxHeight) + 'px';\n                setTimeout(function () {\n                    _this2.player.template.list.style.height = '0px';\n                    _this2.player.events.trigger('listhide');\n                }, 0);\n            }\n        },\n        {\n            key: 'toggle',\n            value: function toggle() {\n                if (this.showing) {\n                    this.hide();\n                } else {\n                    this.show();\n                }\n            }\n        },\n        {\n            key: 'add',\n            value: function add(audios) {\n                this.player.events.trigger('listadd', { audios: audios });\n                if (Object.prototype.toString.call(audios) !== '[object Array]') {\n                    audios = [audios];\n                }\n                audios.map(function (item) {\n                    item.name = item.name || item.title || 'Audio name';\n                    item.artist = item.artist || item.author || 'Audio artist';\n                    item.cover = item.cover || item.pic;\n                    item.type = item.type || 'normal';\n                    return item;\n                });\n                var wasSingle = !(this.audios.length > 1);\n                var wasEmpty = this.audios.length === 0;\n                this.player.template.list.innerHTML += (0, _listItem2.default)({\n                    theme: this.player.options.theme,\n                    audio: audios,\n                    index: this.audios.length + 1\n                });\n                this.audios = this.audios.concat(audios);\n                if (wasSingle && this.audios.length > 1) {\n                    this.player.container.classList.add('aplayer-withlist');\n                }\n                this.player.randomOrder = _utils2.default.randomOrder(this.audios.length);\n                this.player.template.listCurs = this.player.container.querySelectorAll('.aplayer-list-cur');\n                this.player.template.listCurs[this.audios.length - 1].style.backgroundColor = audios.theme || this.player.options.theme;\n                if (wasEmpty) {\n                    if (this.player.options.order === 'random') {\n                        this.switch(this.player.randomOrder[0]);\n                    } else {\n                        this.switch(0);\n                    }\n                }\n            }\n        },\n        {\n            key: 'remove',\n            value: function remove(index) {\n                this.player.events.trigger('listremove', { index: index });\n                if (this.audios[index]) {\n                    if (this.audios.length > 1) {\n                        var list = this.player.container.querySelectorAll('.aplayer-list li');\n                        list[index].remove();\n                        this.audios.splice(index, 1);\n                        this.player.lrc && this.player.lrc.remove(index);\n                        if (index === this.index) {\n                            if (this.audios[index]) {\n                                this.switch(index);\n                            } else {\n                                this.switch(index - 1);\n                            }\n                        }\n                        if (this.index > index) {\n                            this.index--;\n                        }\n                        for (var i = index; i < list.length; i++) {\n                            list[i].getElementsByClassName('aplayer-list-index')[0].textContent = i;\n                        }\n                        if (this.audios.length === 1) {\n                            this.player.container.classList.remove('aplayer-withlist');\n                        }\n                        this.player.template.listCurs = this.player.container.querySelectorAll('.aplayer-list-cur');\n                    } else {\n                        this.clear();\n                    }\n                }\n            }\n        },\n        {\n            key: 'switch',\n            value: function _switch(index) {\n                this.player.events.trigger('listswitch', { index: index });\n                if (typeof index !== 'undefined' && this.audios[index]) {\n                    this.index = index;\n                    var audio = this.audios[this.index];\n                    this.player.template.pic.style.backgroundImage = audio.cover ? 'url(\\'' + audio.cover + '\\')' : '';\n                    this.player.theme(this.audios[this.index].theme || this.player.options.theme, this.index, false);\n                    this.player.template.title.innerHTML = audio.name;\n                    this.player.template.author.innerHTML = audio.artist ? ' - ' + audio.artist : '';\n                    var light = this.player.container.getElementsByClassName('aplayer-list-light')[0];\n                    if (light) {\n                        light.classList.remove('aplayer-list-light');\n                    }\n                    this.player.container.querySelectorAll('.aplayer-list li')[this.index].classList.add('aplayer-list-light');\n                    (0, _smoothscroll2.default)(this.index * 33, 500, null, this.player.template.list);\n                    this.player.setAudio(audio);\n                    this.player.lrc && this.player.lrc.switch(this.index);\n                    this.player.lrc && this.player.lrc.update(0);\n                    if (this.player.duration !== 1) {\n                        this.player.template.dtime.innerHTML = _utils2.default.secondToTime(this.player.duration);\n                    }\n                }\n            }\n        },\n        {\n            key: 'clear',\n            value: function clear() {\n                this.player.events.trigger('listclear');\n                this.index = 0;\n                this.player.container.classList.remove('aplayer-withlist');\n                this.player.pause();\n                this.audios = [];\n                this.player.lrc && this.player.lrc.clear();\n                this.player.audio.src = '';\n                this.player.template.list.innerHTML = '';\n                this.player.template.pic.style.backgroundImage = '';\n                this.player.theme(this.player.options.theme, this.index, false);\n                this.player.template.title.innerHTML = 'No audio';\n                this.player.template.author.innerHTML = '';\n                this.player.bar.set('loaded', 0, 'width');\n                this.player.template.dtime.innerHTML = _utils2.default.secondToTime(0);\n            }\n        }\n    ]);\n    return List;\n}();\nexports.default = List;","'use strict';\nvar _typeof = typeof Symbol === 'function' && typeof Symbol.iterator === 'symbol' ? function (obj) {\n    return typeof obj;\n} : function (obj) {\n    return obj && typeof Symbol === 'function' && obj.constructor === Symbol && obj !== Symbol.prototype ? 'symbol' : typeof obj;\n};\n(function (root, smoothScroll) {\n    'use strict';\n    if (typeof define === 'function' && define.amd) {\n        define(smoothScroll);\n    } else if ((typeof exports === 'undefined' ? 'undefined' : _typeof(exports)) === 'object' && (typeof module === 'undefined' ? 'undefined' : _typeof(module)) === 'object') {\n        module.exports = smoothScroll();\n    } else {\n        root.smoothScroll = smoothScroll();\n    }\n}(undefined, function () {\n    'use strict';\n    if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object')\n        return;\n    if (document.querySelectorAll === void 0 || window.pageYOffset === void 0 || history.pushState === void 0) {\n        return;\n    }\n    var getTop = function getTop(element, start) {\n        if (element.nodeName === 'HTML')\n            return -start;\n        return element.getBoundingClientRect().top + start;\n    };\n    var easeInOutCubic = function easeInOutCubic(t) {\n        return t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1;\n    };\n    var position = function position(start, end, elapsed, duration) {\n        if (elapsed > duration)\n            return end;\n        return start + (end - start) * easeInOutCubic(elapsed / duration);\n    };\n    var smoothScroll = function smoothScroll(el, duration, callback, context) {\n        duration = duration || 500;\n        context = context || window;\n        var start = context.scrollTop || window.pageYOffset;\n        if (typeof el === 'number') {\n            var end = parseInt(el);\n        } else {\n            var end = getTop(el, start);\n        }\n        var clock = Date.now();\n        var requestAnimationFrame = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (fn) {\n            window.setTimeout(fn, 15);\n        };\n        var step = function step() {\n            var elapsed = Date.now() - clock;\n            if (context !== window) {\n                context.scrollTop = position(start, end, elapsed, duration);\n            } else {\n                window.scroll(0, position(start, end, elapsed, duration));\n            }\n            if (elapsed > duration) {\n                if (typeof callback === 'function') {\n                    callback(el);\n                }\n            } else {\n                requestAnimationFrame(step);\n            }\n        };\n        step();\n    };\n    var linkHandler = function linkHandler(ev) {\n        if (!ev.defaultPrevented) {\n            ev.preventDefault();\n            if (location.hash !== this.hash)\n                window.history.pushState(null, null, this.hash);\n            var node = document.getElementById(this.hash.substring(1));\n            if (!node)\n                return;\n            smoothScroll(node, 500, function (el) {\n                location.replace('#' + el.id);\n            });\n        }\n    };\n    document.addEventListener('DOMContentLoaded', function () {\n        var internal = document.querySelectorAll('a[href^=\"#\"]:not([href=\"#\"])'), a;\n        for (var i = internal.length; a = internal[--i];) {\n            a.addEventListener('click', linkHandler, false);\n        }\n    });\n    return smoothScroll;\n}));"],"sourceRoot":""}